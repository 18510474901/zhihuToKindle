


从现实角度出发，股票价格被假设为服从马尔科夫过程（Markov Process）是否合理？ - 金融学 - 知乎






--------------------Link http://www.zhihu.com/question/23444414 ----------------------





--------------------Detail----------------------

看到 John Hull 的书中提到"股票价格通常被假设为服从马尔科夫过程。假定IBM的当前价格为100美元，如果股价服从马尔可夫过程，那么一周前，一月前或一年前的价格都不会影响我们现在对于将来股价的预测，而唯一相关的信息就是股票的当前价格100美元。"这个是否合理呢？感觉很多人都依赖过往股价的支持。

-------------------------answer 0 via  -------------------------


非常赞同August Lee所引用的all models are wrong, some are useful。以下是我的通俗理解：可以说任何数学模型都不足以解释股价变动。比如你砸一个亿买一只Midcap，股价自然会涨上去，而且return很可能会超过几倍的historical/implied vol，如果你的模型准确的话，那它就得准确模拟你的行为，这是完全不可能的。之所以人们可以用markov stochastic process来估计股价波动，是因为特定的建模目和特定的business model。金融市场主要的两个参与者是卖方和买方。卖方，也就是投行，倾向于保守得认为市场作为一个整体是efficient的，他们只要近似拟合股价变动把风险对冲掉再额外赚点佣金就可以了。所以投行盈利主要靠模型失效带来的损失不超过佣金，（以及其他income如financing income，bid ask差等）。如果你的模型使得最后的利润为正且你收取的佣金不高于其他投行，那你的模型就是“合理”的。（这个是ideal的情况，其实卖方的trader一定程度上还是需要对market走势有自己的看法的）相反，买方，比如各种fund，绝不会相信或者只会部分相信risk neutral process，他们的任务就是通过过去以及当下可收集到的信息来预测金融产品的未来价格。比如一个fund manager相信过去涨很多的股票未来也会涨（momentum effect），那他就可以买stock or call or call spread，以此获利（当然她买股票或其他金融产品的时候也要付给投行一定佣金）。在这种情况下fund manager所用的model就不是markov的（更准确一点是非risk neutral的)。不过这些投资专家猜错的几率也不小，不同投资者对同一股票价格的走势常常有相反的预测。这在投行看来，市场有足够分散的预期，这种些预期整合在一起就成了risk neutral measure，所以投行做产品定价的时候用risk neutral stochastic model就足够了。（我说的买方部分相信risk neutral，是因为他们可以选择主攻某种alpha而对冲掉其他风险。这个类似于modern portfolio theory。有点扯远了。）总之，在花街上，卖方多见pricing quant而买方多见alpha quant，前者要求math更多些，需要更好地model risk，后者要求market insight/fundamental/statistics更多些，他们需要更好predict market。（当然还有些做chart analysis或者随便玩玩的闲散人员，他们为市场提供liquidity，lol）说白了，卖方pricing quant多相信stochastic markov memoryless神马的，买方alpha quant多相信non-markov, predictability，stock selection。够用useful就行，或者说赚到钱就行，无论你是赚佣金还是return。（PS：还是觉得这里markov这个词的用法怪怪的，不过大家知道意思就行了）综上所述，我似乎还是没有回答股价是不是Markov process。那我最后补一刀：不是markov process，否则我就没地方混了。。。不好意思名词用多了些，手机码字不方便，请谅解。-----------------------看了下其他的回答，居然这么多人直接就上模型讨论hypothesis testing .... 不至于吧... 对这个问题我不敢说自己知道正确答案，但是不正确的答案我还是能分辨的：仔细读了一下 @August Lee 的回答，感觉逻辑很不顺。任何数据和任何模型都可以拟合，你把每日的股价return和当天的温度放在一起也可以做regression，只是拟合效果很差而已。按照你给出的模型，只要有数据就一定能找到a和b的最佳估计，可是这个模型又有什么用呢。还有楼中怀疑别人身份的某位匿名用户，你的St= a*St-1 + b + et-1中关于a的言论是错误的-----------------------再唠叨一下，想了半天还是觉得自己的回答怪怪的。我觉得原因在于Markov这个东西的定义，理论上来说任何process，哪怕再复杂，都可以转化为markov process。而我回答的是predictability。。。一开始就偏题了，所以答来答去都不满意。。。索性停笔吧


-------------------------answer 1 via  -------------------------


Mark一下，以后来完善，以下内容有可能是错的，还望指正。关于马尔科夫假设是否合理，只要是数学模型来简化金融市场问题的，大家争论都很多，有人做金融理论研究的，有人通过数据实证研究的，大家众说纷纭，不好下结论。不过有一点大家基本认同的，all models are wrong, but some are useful。关于模型里面，我觉得你说的马尔科夫假设和历史数据直接不矛盾。因为历史数据可以用来估计你模型中的参数。举个例子，在离散情形下，如果{St}表示股价序列，并且满足关系St= a*St-1 + b + et。其中{et}表示error term，是独立同分布标准正态随机变量并且与{St}独立， 如果现在是t，那么将来的股价St+1就只依赖于当前股价St而与过去股价St-1无关。 这个模型就是个markov process。t+1时刻的估计期望就是：E(St+1|St) =  a*St-1 + b，St-1你是知道了，a和b又是多少呢？现在的问题是你要估计这个模型的参数a和b，这时候你可以把你的历史数据拿过来，做线性回归：Y = aX+b+e, 其中 Y和X就是 错开一期的股价。当你得到了a和b的估计值a_hat, b_hat，这时候你才就可以估计出E(St+1|St) =  a_hat*St-1 + b_hat了。=================================================是我没有说清楚吗？小弟不才，所以关于市场是不是服从markov这点上，我没有回答，只是貌似大家的各种实证分析表明，不服从。我只回到了，在股票价格服从MARKOV的前提下，为什么还要用历史数据。关于 @阿猫Knight大哥的评价，我觉得您是对我的回答理解有偏颇了。一般的回归模型Y = aX+b+e，从实际意义的角度， Y跟X两个变量要满足我们的主观感受。在股票股票价格服从MARKOV的前提下，我举了个例子：St= a*St-1 + b + et，就是我们的假设关系式，做回归来估计a，b应该没有错吧？ 这是先有模型关系式，后对参数进行估计，而不是发现历史数据有很强的AR(1)关系，才得到模型的。当然您完全可以说我的假设是错的，我也从没说我的假设是对的，我只是说了下历史数据可以干嘛。我想您说的逻辑是model driven和data driven之间的比较。受 @李米的启发想到了一句话，St仅与St-1有关并不是说历史不重要，而是说St-1包含了预测St所需要的全部历史信息。这个在数学上可以用域流（filtration）来解释，随着t的增长，信息集合Ft是被包含的关系。


-------------------------answer 2 via  -------------------------


谢邀题目中：“看到 John Hull 的书中提到股票价格通常被假设为服从马尔科夫过程，比如某只股票一周前，一月前或一年前的价格都不会影响现在对于将来股价的预测。”后半句话描述其实并不对，markov过程是描述一个随机过程在之前的状态t-1通过一个概率转移矩阵转换到当前的状态t，但对某一状态的描述并非是必须现在某一瞬间的切片形态。我可以把状态定义为交易品的价格、成交量等等，也可以定义为在未来某一时间段内交易品价格的变化幅度，比如我们可以定义某只股票的t-1状态时（未来7日涨幅，过去1月涨幅，过去1年涨幅），我们在一周后的t时间可以完全观察到t-1时刻的状态，然后我们根据概率转移矩阵和当前以观察状态来预测未来7日涨幅。所以“某只股票一周前，一月前或一年前的价格都不会影响现在对于将来股价的预测”这句话对markov过程描述并不对，markov过程本身可以通过自身的状态定义来包含进这些信息，而定义信息和转移矩阵的计算正是用markov做策略的难点所在。-----------------------------------------------------------------------------------------------------------------------------------PS:看了下其他人的答案，你们对市场理解没错，但对markov过程理解是有误的，事实很多实际交易的量化交易者是在用markov模型的，准确的说很多在用隐马尔科夫模型。


-------------------------answer 3 via  -------------------------


看完这个问题的直接感受正如 @August Lee所言，就算股票价格是马尔科夫的，过去的信息可以用来估计模型参数，因此过去的数据会影响我们对于未来的看法。假如题主想问的是股票价格的变化是否真的是马尔科夫的，那么这个问题就非常复杂了，我没有做过严格的定量计算，给你一个直觉但是理性的答案。这个问题很大程度上取决于你的观测时间间隔，是日内，日间，周还是月。日内交易数据偏向市场微观结构级别的研究，侧重于各种市价单和限价单对价格的冲击，这个时候的价格有点类似于布朗运动(花粉被分子随机冲击)，因此可以近似看成马尔科夫过程。但是日间数据就很难说，比如公司发布一个公告，市场对于这个消息的消化能力有多快一直是一个富有争议的话题，可能三天乃至一周之后市场还没有消化(把这个消息的冲击完全包含到价格中去)，这时候就很难说股票是马尔科夫过程。但是到了月数据这个更大的层次，直观上来说，很少存在信息消化不了的问题，因此股票价格可能更偏向马尔科夫过程。感性的答案是：不可能是马尔科夫过程，不然不论是基本面还是技术分析岂不都是扯淡了……


-------------------------answer 4 via  -------------------------


什么是马尔科夫过程：当前状态的条件概率有且仅有关于有限时间段内的历史状态，即题主提到的说法是一个特例，在那里作者定义的最小时间间隔是一个交易周期（比如说一秒），而k=1，即下一秒的股价与历史的关系是，它相关且仅相关于这一秒的股价，而且和上一秒之前的股价一点关系都没。这合理吗？统计意义上而言，这是最合理的了！但合理不意味着它有应用价值。这个说法“合理”这件事可能一开始看起来很突兀。但如果你真正计算每两个相邻时刻的股价差，并把它们的条件概率画出来的话，根据中心极限定理，你会得到一个完美的高斯分布。也就是说，每两个时刻的股价差在大量统计上看来，服从一个高斯分布。如果你算它的统计意义？统计学家会告诉你，如果你样本数足够多，你算出来的高斯分布参数可能有99%的情况不会失效（详情略）。纯作为数学模型而言，这很好，不是吗？因为我们有99%的把握知道了下一秒股价的分布。但这种预测没有应用价值。实际上，一般我们说到股价预测，往往关注的是下一秒的股价涨跌，而高斯分布不能告诉我们这个答案。这时我们往往做两件事：1、增加对历史的依赖：我们在模型里加入更多的历史信息（增大k），以加入一些“趋势”的影响），期望当历史股价有上升趋势时，我们的预测也倾向上升；2、增加其他参数：事实上正如我原始回答所说，股价这个问题往往不是看历史就能确定的，而可能受到其他因素的影响。如果我们能对其他因素做良好的建模和分析，那我们对股价的建模可能更准确。这样做的结果是什么呢？首先，引入更多的变量，做机器学习的人（比如我自己）会很开心，因为更多的特征通常意味着更精确的预测（这里的精确预测更多是指涨跌的趋势，或者预测价格和实际价格的误差，而非精确的价格）；而统计学家会开始皱眉头，因为你的数据支持开始不够，结果的置信区间开始变宽（或者置信度下降），在机器学习里给这个取名叫high variance。这还没完，如果你的系统引入了其他的预测机制，比如你对股价的预测依赖于气象预测（比如明天某公司要首秀，下雨可能会影响参加的人数和曝光率；或者期货市场上，气候会影响农产品产量），那在气象预测上产生的误差可能会被代入你的价格预测中，进一步引起误差。当然这些问题可以用更多的数据解决，但一般而言，增加参数的个数和需要的数据量有正相关关系，而数据本身并不是那么好获得的。最后值得一提的是，尽管如此，股价预测等自动算法仍然广泛被应用于金融领域，也稳定地为不计其数的投资者创造了巨大的经济利益。虽然因为假推特事件让一些投资公司出了血，但这也一定程度上正是证明了这些算法的有效和灵敏性，正如 @Chris Huang 所说，原始回答中提到的事件大多是小概率事件，虽然有些事件的风险很大，但总体而言，预测算法们带来的期望收益还是可观的。== 以下是原始回答 ==如果你的markov模型输入都是历史股价，那如果第二天政府颁布了新法案禁止X行业发展，你在X行业历史利好基础上做出的判断就白瞎了；如果你的输入是历史股价和政策趋势，那第二天邻国出了个X行业B公司产品弄死人的新闻，你在X行业A公司本国股票的投资又白瞎了；如果你的输入是历史股价、政策趋势和国际新闻（这是很多对冲基金公司做的事情），那第二天某个大新闻网站的官方微博被黑了，发了条假消息，你做的投资组合又白瞎了（真事：Stocks plunge, recover after fake tweet）；如果你的输入是历史股价、政策趋势、国际新闻并自动判断新闻的真假，结果第二天A公司总部地震了，A公司从此一蹶不振，你的投资又白瞎了。能影响股价的factor太多，所有模型不管简单/复杂，都有适用范围和被坑的时候，所以机器学习（或者说统计）这种东西不能不信，但切忌全信。


-------------------------answer 5 via  -------------------------


我数学是体育老师教的 哪位大牛能给解释下严格的非markov过程是怎样的问题中这句话的意思是当你conditional on以前所有的股价时，你相当于只是conditional on今天的股价，因为今天的股价已经包含了之前股价的信息。明白这句话是什么意思吗，包含了之前股价的信息，也就是当你跑自回归的时候，加入更多的滞后项不会增加解释效力，或者说你一阶自回归后的残差项与滞后一阶项是不相关的。也就是你跑纯粹技术分析跑出来的结果跟你只知道当前股价是一个效果。是不是markov过程跟能不预测股价（实际上是收益率）是两回事，满足弱有效市场条件还是可以预测股价的。我数学非常不好 所以胡乱说：markov性质只是强调时间序列只有一阶自回归的性质，但其他信息的加入依然可以提高解释效力。  鞅martingale（random walk）性质强调在目前所有信息的基础上，都不可以预测股价（或者说预测结果是当期的价格），这叫强有效市场。实际上我们讨论都是predictability，而不是markov不markov什么的，除了momentum或者reversal 这种纯粹用价格信息之外，其他种类的predictability需要很多其他信息，这种不违背弱有效但违背半有效。而且predictability跟可不可以套利又是两回事了。-----------------------------------------------------------------------------随便看看吧：非markov的性质就是未来的增量与过去相关分数布朗运动 fractional Brownian motion 是更广义的布朗过程其中当 Hurst指数 H=1/2 时是标准布朗运动  是martingale 是特殊形式的markov过程当H不等于1/2 就不是布朗运动 也不是markov过程其中当1/2<H<1 时出现长记忆性基于fractional Brownian motion的期权定价已经有人搞了-----------------------------------------------------------------------------------真没意思 能赚钱就行了 管你用什么JB理论


-------------------------answer 6 via  -------------------------


股票价格是否具有马尔科夫性，取决于交易员和股民的记忆长短，还有他们行为模式是不是整齐划一。极端地说，如果所有股市参与者都有一个全同的交易程序，它制定交易命令时完全依据前2个小时的股票价格信息，那么这显然会造成股票价格的2小时记忆。但对一个高度竞争、参与者策略极度多样化的市场，把价格看做马尔科夫过程是比较合理的。下面是一点“硬科学”。在原始的Black-Scholes-Merton模型中，股价被假设为期望漂移率和波动率都不随时间变化的广义维纳过程（几何布朗运动），具体来说每一时刻股价的增量仅仅由这一时刻的股价和几个参数决定：其中是一个从原点出发，波动率为1的布朗运动，描述股价增长中的随机分量。这是一个简单的随机微分方程，我们知道它的解析解是。如果我们对方程两边取，容易看出来满足一个期望线性增长（由描述）的正态分布。在现实的股票市场中，如果漂移率和波动率真的始终保持不变，那么股价就是马尔科夫的。但这显然不符合事实，股价期望绝不会不断地稳定上涨，当宏观经济由增长转为衰退时，所有股价都会相应受到影响；而如果市场中存在大量投机参与者，或者大家都相信技术分析的某一套理论，股价波动中的参数也可能因此随时间演化，并关联于自己的历史演化轨迹。在一些情况下，波动率甚至与股价期权的行权价格保持稳定的相关性（波动率微笑）。一言蔽之，在短期、多样性高的市场中，价格大致可以看做马尔科夫过程；而在宏观经济环境发生变化，或参与者行为模式较为统一（如共同的理念、情绪反应……）的市场里，价格比较可能缺乏马尔科夫性。


-------------------------answer 7 via  -------------------------


不合理。锚定效应就导致未来股价还与历史数据有关，另外股价也与非股价数据有关（比如交易量，各种基本面因子，外生变量）。


-------------------------answer 8 via  -------------------------


你可以做一个时间序列的相关性测试，结论就会告诉你其实是不合理的。在现实中，non-Markovian到处都是。之所以作出Markovian这样的假设，是因为这样的模型分析起来简单。Markovian你的分析工具可以是简单的stochastic calculus，而Non-Markovian的东西要用到的rough path theory，难度差距很是悬殊。除了一句至理名言all models are wrong but some are useful，还有一句话，具体的忘了，但意思大致就是：the result we want can be correct but rough, but cannot be precise but wrong. Markovian给你的东西可能是错的，可能会使你的hedge不那么好，但是error可以接受就可以了。


-------------------------answer 9 via  -------------------------


其实楼主这个问题法玛的有效市场假说就能完美的回答估计楼主还没看到那，我就先简单说下：　一、弱式有效市场假说（weak Form efficiency）　　该假说认为在弱式有效的情况下，市场价格已充分反应出所有过去历史的证券价格信息，包括股票的成交价、成交量、卖空金额，融资金融等 ；　　推论一：如果弱式有效市场假说成立，则股票价格的技术分析失去作用，基本分析还可能帮助投资者获得超额利润。　　二、半强式有效市场假说(Semi—Strong Form Efficiency)　　该假说认为价格已充分反应出所有已公开的有关公司营运前景的信息。这些信息有成交价、成交量、盈利资料、盈利预测值，公司管理状况及其它公开披露的财务信息等。假如投资者能迅速获得这些信息，股价应迅速作出反应。　　推论二：如果半强式有效假说成立，则在市场中利用技术分析和基本分析都失去作用，内幕消息可能获得超额利润。　　三、强式有效市场假说(Strong Form of Efficiency Market)　　强式有效市场假说认为价格已充分地反应了所有关于公司营运的信息，这些信息包括已公开的或内部未公开的信息。　　推论三：在强式有效市场中，没有任何方法能帮助投资者获得超额利润，即使基金和有内幕消息者也一样也就是说，股价服从马尔科夫过程在且仅在强式有效市场中而现实情况却不是这样，我们一般认为，美国股票市场已经接近半强式有效市场，而中国市场甚至离弱式有效市场都差很多，自然股价也就不是马尔科夫过程了也就是说在中国市场中，利用历史信息依然可以进行套利，多插几句，我认为有效市场假说是个非常有趣的理论，因为它所需要的假设很少，只需要理性人假设即可，可以说是经济学理论中最接近现实情况的理论之一了，而未来，随着计算力的提高，必然会像假说里所说，无人再可通过历史信息进行套利所以趁现在还有机会，赶紧行动吧少年们
